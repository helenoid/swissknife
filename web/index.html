<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwissKnife Web Desktop</title>
    <link rel="icon" href="/favicon.ico">
    
    <!-- Desktop CSS Files -->
    <link rel="stylesheet" href="/css/desktop.css">
    <link rel="stylesheet" href="/css/windows.css">
    <link rel="stylesheet" href="/css/terminal.css">
    <link rel="stylesheet" href="/css/apps.css">
    <link rel="stylesheet" href="/css/aero-enhanced.css">
    <link rel="stylesheet" href="/css/model-browser.css">
    <link rel="stylesheet" href="/css/strudel.css">
    <link rel="stylesheet" href="/css/strudel-grandma.css">
    <link rel="stylesheet" href="/css/vibecode-enhanced.css">
    <link rel="stylesheet" href="/css/strudel-ai-daw.css">
    <link rel="stylesheet" href="/css/api-keys-enhanced.css">
    <link rel="stylesheet" href="/css/github-oauth.css">
    <link rel="stylesheet" href="/css/huggingface.css">
    <link rel="stylesheet" href="/css/openrouter.css">
</head>
<body>
    <!-- Desktop Environment -->
    <div id="desktop" class="desktop">
        <!-- Desktop Background -->
        <div class="desktop-background"></div>
        
        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="icon" data-app="terminal" title="SwissKnife Terminal">
                <div class="icon-image">🖥️</div>
                <div class="icon-label">Terminal</div>
            </div>
            <div class="icon" data-app="vibecode" title="VibeCode - AI Streamlit Editor">
                <div class="icon-image">🎯</div>
                <div class="icon-label">VibeCode</div>
            </div>
            <div class="icon" data-app="strudel-ai-daw" title="Strudel AI DAW">
                <div class="icon-image">🎵</div>
                <div class="icon-label">Strudel AI</div>
            </div>
            <div class="icon" data-app="ai-chat" title="AI Chat">
                <div class="icon-image">🤖</div>
                <div class="icon-label">AI Chat</div>
            </div>
            <div class="icon" data-app="file-manager" title="File Manager">
                <div class="icon-image">📁</div>
                <div class="icon-label">Files</div>
            </div>
            <div class="icon" data-app="task-manager" title="Task Manager">
                <div class="icon-image">⚡</div>
                <div class="icon-label">Tasks</div>
            </div>
            <div class="icon" data-app="model-browser" title="AI Model Manager">
                <div class="icon-image">🧠</div>
                <div class="icon-label">AI Models</div>
            </div>
            <div class="icon" data-app="huggingface" title="🤗 Hugging Face Hub">
                <div class="icon-image">🤗</div>
                <div class="icon-label">Hugging Face</div>
            </div>
            <div class="icon" data-app="openrouter" title="🔄 OpenRouter Hub">
                <div class="icon-image">🔄</div>
                <div class="icon-label">OpenRouter</div>
            </div>
            <div class="icon" data-app="ipfs-explorer" title="IPFS Explorer">
                <div class="icon-image">🌐</div>
                <div class="icon-label">IPFS</div>
            </div>
            <div class="icon" data-app="device-manager" title="Device Manager">
                <div class="icon-image">🔧</div>
                <div class="icon-label">Devices</div>
            </div>
            <div class="icon" data-app="settings" title="Settings">
                <div class="icon-image">⚙️</div>
                <div class="icon-label">Settings</div>
            </div>
            <div class="icon" data-app="mcp-control" title="MCP Control">
                <div class="icon-image">🔌</div>
                <div class="icon-label">MCP Control</div>
            </div>
            <div class="icon" data-app="api-keys" title="API Keys">
                <div class="icon-image">🔑</div>
                <div class="icon-label">API Keys</div>
            </div>
            <div class="icon" data-app="github" title="GitHub">
                <div class="icon-image">🐙</div>
                <div class="icon-label">GitHub</div>
            </div>
            <div class="icon" data-app="oauth-login" title="OAuth Login">
                <div class="icon-image">🔐</div>
                <div class="icon-label">OAuth</div>
            </div>
            <div class="icon" data-app="cron" title="AI Cron">
                <div class="icon-image">⏰</div>
                <div class="icon-label">AI Cron</div>
            </div>
            <div class="icon" data-app="navi" title="NAVI">
                <div class="icon-image"><img src="/assets/icons/navi-icon.png" style="width: 32px; height: 32px; border-radius: 4px;"></div>
                <div class="icon-label">NAVI</div>
            </div>
            <div class="icon" data-app="strudel" title="🎵 Music Studio">
                <div class="icon-image">🎵</div>
                <div class="icon-label">Music Studio</div>
            </div>
            <div class="icon" data-app="p2p-network" title="P2P Network Manager">
                <div class="icon-image">🔗</div>
                <div class="icon-label">P2P Network</div>
            </div>
            <div class="icon" data-app="neural-network-designer" title="Neural Network Designer">
                <div class="icon-image">🧠</div>
                <div class="icon-label">NN Designer</div>
            </div>
            <div class="icon" data-app="training-manager" title="Training Manager">
                <div class="icon-image">🎯</div>
                <div class="icon-label">Training</div>
            </div>
            <div class="icon" data-app="calculator" title="Calculator">
                <div class="icon-image">🧮</div>
                <div class="icon-label">Calculator</div>
            </div>
            <div class="icon" data-app="clock" title="Clock & Timers">
                <div class="icon-image">🕐</div>
                <div class="icon-label">Clock</div>
            </div>
            <div class="icon" data-app="image-viewer" title="Image Viewer">
                <div class="icon-image">🖼️</div>
                <div class="icon-label">Images</div>
            </div>
            <div class="icon" data-app="notes" title="Notes">
                <div class="icon-image">📝</div>
                <div class="icon-label">Notes</div>
            </div>
            <div class="icon" data-app="system-monitor" title="System Monitor">
                <div class="icon-image">📊</div>
                <div class="icon-label">Monitor</div>
            </div>
        </div>
        
        <!-- Windows Container -->
        <div id="windows-container" class="windows-container"></div>
        
        <!-- System Panel/Taskbar -->
        <div class="system-panel">
            <div class="panel-left">
                <div class="system-menu-button swiss-flag-square" id="system-menu-btn">
                    <div class="swiss-flag-icon">
                        <div class="flag-cross-horizontal"></div>
                        <div class="flag-cross-vertical"></div>
                    </div>
                </div>
                <div class="taskbar-apps" id="taskbar-apps"></div>
            </div>
            <div class="panel-right">
                <div class="system-status">
                    <span id="ai-status" class="status-indicator">🤖</span>
                    <span id="ipfs-status" class="status-indicator">🌐</span>
                    <span id="gpu-status" class="status-indicator">🎮</span>
                </div>
                <div class="system-time" id="system-time"></div>
            </div>
        </div>
        
        <!-- System Menu -->
        <div id="system-menu" class="system-menu hidden">
            <div class="menu-section">
                <div class="menu-title">Applications</div>
                <div class="menu-item" data-app="terminal">🖥️ Terminal</div>
                <div class="menu-item" data-app="vibecode">🎯 VibeCode - AI Streamlit Editor</div>
                <div class="menu-item" data-app="strudel-ai-daw">🎵 Strudel AI DAW</div>
                <div class="menu-item" data-app="ai-chat">🤖 AI Chat</div>
                <div class="menu-item" data-app="file-manager">📁 File Manager</div>
            </div>
            <div class="menu-separator"></div>
            <div class="menu-section">
                <div class="menu-item" data-app="task-manager">⚡ Task Manager</div>
                <div class="menu-item" data-app="model-browser">🧠 Model Browser</div>
                <div class="menu-item" data-app="huggingface">🤗 Hugging Face Hub</div>
                <div class="menu-item" data-app="ipfs-explorer">🌐 IPFS Explorer</div>
                <div class="menu-item" data-app="device-manager">🔧 Device Manager</div>
            </div>
            <div class="menu-separator"></div>
            <div class="menu-section">
                <div class="menu-item" data-app="settings">⚙️ Settings</div>
                <div class="menu-item" data-app="mcp-control">🔌 MCP Control</div>
                <div class="menu-item" data-app="api-keys">🔑 API Keys</div>
                <div class="menu-item" data-app="github">🐙 GitHub</div>
                <div class="menu-item" data-app="oauth-login">🔐 OAuth Login</div>
                <div class="menu-item" data-app="cron">⏰ AI Cron</div>
                <div class="menu-item" data-app="strudel">🎵 Music Studio</div>
                <div class="menu-item" data-app="navi"><img src="/assets/icons/navi-icon.png" style="width: 16px; height: 16px; border-radius: 2px; vertical-align: middle; margin-right: 4px;"> NAVI</div>
            </div>
            <div class="menu-separator"></div>
            <div class="menu-section">
                <div class="menu-title">Tools & Utilities</div>
                <div class="menu-item" data-app="calculator">🧮 Calculator</div>
                <div class="menu-item" data-app="clock">🕐 Clock & Timers</div>
                <div class="menu-item" data-app="image-viewer">🖼️ Image Viewer</div>
                <div class="menu-item" data-app="notes">📝 Notes</div>
                <div class="menu-item" data-app="system-monitor">📊 System Monitor</div>
                <div class="menu-item" onclick="showAbout()">ℹ️ About</div>
            </div>
        </div>
    </div>
    
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <pre class="ascii-art">
    ██████████╔═════╗██████████
    ██████████║█████║██████████
    ██████████║█████║██████████
    ██████████║█████║██████████
    ╔═════════╝█████╚═════════╗
    ║█████████████████████████║
    ║█████████████████████████║
    ╚═════════╗█████╔═════════╝
    ██████████║█████║██████████
    ██████████║█████║██████████
    ██████████║█████║██████████
    ██████████╚═════╝██████████
███████╗██╗    ██╗██╗███████╗███████╗
██╔════╝██║    ██║██║██╔════╝██╔════╝
███████╗██║ █╗ ██║██║███████╗███████╗
╚════██║██║███╗██║██║╚════██║╚════██║
███████║╚███╔███╔╝██║███████║███████║
╚══════╝ ╚══╝╚══╝ ╚═╝╚══════╝╚══════╝
██╗  ██╗███╗   ██╗██╗███████╗███████╗
██║ ██╔╝████╗  ██║██║██╔════╝██╔════╝
█████╔╝ ██╔██╗ ██║██║█████╗  █████╗  
██╔═██╗ ██║╚██╗██║██║██╔══╝  ██╔══╝  
██║  ██╗██║ ╚████║██║██║     ███████╗
╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝╚═╝     ╚══════╝
                </pre>
            </div>
            <div class="loading-text">
                <h2>SwissKnife Web Desktop</h2>
                <p>Initializing AI-powered development environment...</p>
                <div class="loading-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="loading-progress"></div>
                    </div>
                    <div class="loading-status" id="loading-status">Starting up...</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div id="context-menu" class="context-menu hidden">
        <div class="context-item" onclick="openTerminalHere()">🖥️ Open Terminal Here</div>
        <div class="context-item" onclick="createNewFile()">📄 New File</div>
        <div class="context-item" onclick="createNewFolder()">📁 New Folder</div>
        <div class="context-separator"></div>
        <div class="context-item" onclick="refreshDesktop()">🔄 Refresh</div>
        <div class="context-item" onclick="showDesktopProperties()">⚙️ Properties</div>
    </div>
    
    <!-- P2P ML System Bridge -->
    <script src="/js/p2p-ml-bridge.js"></script>

    <!-- Vite Entry Point -->
    <script type="module" src="/main.ts"></script>
</body>
</html>